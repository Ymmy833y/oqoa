@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  .app-body {
    @apply min-h-screen flex flex-col
      bg-gray-100 text-gray-900 dark:bg-gray-900 dark:text-gray-100 pt-16;
  }
}

@layer components {
  /* header
   ----------------------------------------------------- */
  .app-header {
    @apply fixed top-0 inset-x-0 z-40
      border-b border-gray-300 dark:border-gray-700
      bg-gray-100 dark:bg-gray-900;
  }
  .app-header-inner {
    @apply max-w-5xl mx-auto px-4 py-4 flex justify-center;
  }
  .app-title {
    @apply flex items-center my-2 mr-auto no-underline text-xl font-bold;
  }
  .app-title-full {
    @apply hidden md:inline;
  }
  .app-title-short {
    @apply md:hidden;
  }
  .app-header-actions {
    @apply flex space-x-2;
  }

  /* main
   ----------------------------------------------------- */
  .app-main {
    @apply flex-1;
  }

  /* q-list (問題集一覧) */
  .q-list-section {
    @apply max-w-5xl mx-auto px-4 py-6;
  }
  .q-list-header {
    @apply flex items-center justify-between mb-4;
  }
  .q-list-title {
    @apply text-lg font-semibold;
  }
  .q-list-desc {
    @apply mt-1 text-sm text-gray-600 dark:text-gray-400;
  }
  .q-list-grid {
    @apply grid gap-4 md:grid-cols-2 xl:grid-cols-3;
  }
  .q-list-card {
    @apply flex flex-col gap-3
      rounded-lg border border-gray-200 bg-white p-4
      shadow-sm hover:shadow-md transition-shadow
      dark:border-gray-700 dark:bg-gray-800;
  }
  .q-list-card-header {
    @apply flex items-start justify-between gap-2;
  }
  .q-list-card-header-main {
    @apply min-w-0;
  }
  .q-list-card-title {
    @apply text-sm font-semibold truncate;
  }
  .q-list-card-subtitle {
    @apply mt-1 text-xs text-gray-500 dark:text-gray-400;
  }
  .q-list-card-count {
    @apply font-semibold;
  }
  .q-list-card-badge-default {
    @apply inline-flex items-center
      rounded-full border border-blue-200 bg-blue-50
      px-2 py-0.5 text-[11px] font-medium text-blue-700
      dark:border-blue-700 dark:bg-blue-900/40 dark:text-blue-100;
  }
  .q-list-card-meta {
    @apply text-[11px] text-gray-500 dark:text-gray-400
      font-mono break-all;
  }
  .q-list-card-actions {
    @apply mt-1 flex flex-wrap gap-2;
  }
  .q-list-card-btn-primary {
    @apply inline-flex flex-1 items-center justify-center
      rounded-md border border-blue-600 bg-blue-600
      px-3 py-1.5 text-xs font-medium text-white
      hover:bg-blue-700 hover:border-blue-700
      dark:bg-blue-500 dark:border-blue-500 dark:hover:bg-blue-600;
  }
  .q-list-card-btn-secondary {
    @apply inline-flex items-center justify-center
      rounded-md border border-gray-300 bg-white
      px-3 py-1.5 text-xs font-medium text-gray-700
      hover:bg-gray-50
      dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100
      dark:hover:bg-gray-600;
  }

  /* question list (設問一覧) */
  .question-list-section {
    @apply max-w-5xl mx-auto px-4 py-6;
  }
  .question-list-header {
    @apply mb-4;
  }
  .question-list-title {
    @apply text-lg font-semibold;
  }

  /* 検索バー */
  .question-list-toolbar {
    /* 縦に並べる・間隔を空ける */
    @apply mb-4 flex flex-col gap-3;
  }
  .question-list-search-group {
    /* 横並びでフル幅 */
    @apply flex items-stretch w-full
      rounded-md border border-gray-300 bg-white
      dark:border-gray-600 dark:bg-gray-800;
  }
  .question-list-search-input {
    @apply flex-1 rounded-l-md border-0 bg-transparent
      px-3 py-2 text-sm text-gray-900
      placeholder:text-gray-400
      focus:outline-none focus:ring-2 focus:ring-blue-500
      dark:text-gray-100 dark:placeholder:text-gray-500
      dark:focus:ring-blue-400;
  }
  .question-list-search-case-btn {
    @apply inline-flex items-center justify-center
      px-3 border-l border-gray-300
      bg-white text-gray-500
      hover:bg-gray-50
      dark:border-gray-600 dark:bg-gray-800
      dark:text-gray-400 dark:hover:bg-gray-700;
  }
  .question-list-search-case-btn[aria-pressed="true"] {
    @apply bg-blue-600 text-white border-blue-600
      hover:bg-blue-700 hover:border-blue-700
      dark:bg-blue-500 dark:border-blue-500
      dark:hover:bg-blue-600;
  }
  .question-list-search-case-icon {
    @apply text-base;
  }
  .question-list-search-submit {
    @apply flex justify-center;
  }
  .question-list-search-btn {
    @apply inline-flex items-center justify-center
      w-1/2
      rounded-md border border-blue-600 bg-blue-600
      px-4 py-2 text-sm font-medium text-white
      hover:bg-blue-700 hover:border-blue-700
      dark:border-blue-500 dark:bg-blue-500 dark:hover:bg-blue-600;
  }

  /* 設問一覧本体 */
  .question-list {
    @apply flex flex-col gap-2;
  }
  .question-list-row {
    @apply w-full text-left
      flex items-start gap-3
      rounded-md border border-gray-200 bg-white
      px-3 py-2 text-sm
      shadow-sm hover:shadow-md
      hover:bg-gray-50
      focus:outline-none focus:ring-2 focus:ring-blue-500
      dark:border-gray-700 dark:bg-gray-800
      dark:hover:bg-gray-700 dark:text-gray-100;
  }
  .question-list-row-id {
    @apply shrink-0
      inline-flex items-center justify-center
      rounded-md bg-gray-100 px-2 py-0.5
      text-[11px] font-mono text-gray-700
      dark:bg-gray-700 dark:text-gray-200;
  }
  .question-list-row-text {
    @apply line-clamp-2 text-sm;
  }

  /* footer
   ----------------------------------------------------- */
  .app-footer {
    @apply border-t border-gray-300 dark:border-gray-700;
  }
  .app-footer-inner {
    @apply flex items-center justify-center gap-3 py-3 text-sm;
  }
  .app-footer-text {
    @apply text-gray-500 dark:text-gray-400;
  }
  .app-footer-divider {
    @apply text-gray-400 dark:text-gray-600;
  }
  .app-footer-link {
    @apply inline-flex items-center gap-1
      text-gray-500 dark:text-gray-400
      hover:text-gray-800 dark:hover:text-gray-100
      underline-offset-4 hover:underline;
  }
  .app-footer-link-icon {
    @apply text-base;
  }
  .app-footer-link-text {
    @apply align-middle;
  }

  /* common
   ----------------------------------------------------- */
  /* icon */
  .icon-button {
    @apply w-10 h-10 flex items-center justify-center
      border border-gray-500 text-gray-500
      dark:border-gray-400 dark:text-gray-400
      rounded 
      hover:bg-gray-200 dark:hover:bg-gray-700;
  }
  .icon-button i {
    @apply text-2xl;
  }

  /* modal */
  .app-modal-overlay {
    @apply fixed inset-0 flex items-center justify-center
      bg-black bg-opacity-50 px-2;
  }
  .app-modal {
    @apply w-full max-w-lg
      bg-white dark:bg-gray-800
      border border-gray-200 dark:border-gray-700
      rounded-lg shadow-lg
      p-4 md:p-6;
  }
  .app-modal-header {
    @apply flex items-center justify-between mb-4;
  }
  .app-modal-title {
    @apply text-lg font-semibold;
  }
  .app-modal-close {
    @apply inline-flex items-center justify-center
      p-1 rounded
      text-gray-500 dark:text-gray-400
      hover:bg-gray-100 dark:hover:bg-gray-700;
  }
  .app-modal-body {
    @apply space-y-6;
  }
  .app-modal-section {
    @apply space-y-2;
  }
  .app-modal-section-title {
    @apply text-xs font-semibold uppercase tracking-wide
      text-gray-600 dark:text-gray-300;
  }
  .app-modal-section-description {
    @apply text-sm text-gray-500 dark:text-gray-400;
  }
  .app-modal-radio-group {
    @apply flex flex-wrap gap-2 mt-1;
  }
  .app-modal-radio {
    @apply inline-flex items-center gap-2
      px-3 py-2
      border border-gray-300 dark:border-gray-600
      rounded-md text-sm
      cursor-pointer
      hover:bg-gray-50 dark:hover:bg-gray-700;
  }
  .app-modal-radio input {
    @apply h-4 w-4;
  }
  /* ボタン群 */
  .app-modal-actions {
    @apply flex flex-wrap gap-2 mt-2;
  }
  .app-modal-button {
    @apply inline-flex items-center justify-center
      px-3 py-2
      rounded-md text-sm font-medium
      border border-gray-300 dark:border-gray-600
      bg-white dark:bg-gray-700
      text-gray-700 dark:text-gray-100
      hover:bg-gray-50 dark:hover:bg-gray-600;
  }
  .app-modal-button-danger {
    @apply border-red-300 text-red-700 bg-red-50
      hover:bg-red-100
      dark:border-red-500 dark:text-red-200 dark:bg-red-900/40
      dark:hover:bg-red-900;
  }
  .app-modal-button-icon {
    @apply mr-1 text-base;
  }
  .app-modal-field-group {
    @apply flex flex-col gap-3 mt-2;
  }
  .app-modal-field {
    @apply flex flex-col gap-1;
  }
  .app-modal-field-label {
    @apply text-xs font-medium
      text-gray-600 dark:text-gray-300;
  }
  .app-modal-input {
    @apply w-full rounded-md
      border border-gray-300 dark:border-gray-600
      bg-white dark:bg-gray-700
      px-3 py-2
      text-sm text-gray-900 dark:text-gray-100
      focus:outline-none
      focus:ring-2 focus:ring-blue-500 focus:border-blue-500
      dark:focus:ring-blue-400 dark:focus:border-blue-400;
  }

  /* toast */
  .toast-stack {
    @apply fixed inset-x-0 top-[75px] z-[1000] px-4 pb-6 pointer-events-none;
  }
  .toast {
    @apply pointer-events-auto rounded-md p-4 shadow-2xl ring-1 ring-black/10 border
          flex items-center gap-3 mb-3;
  }
  .toast--error {
    @apply border-red-300 bg-red-50 text-red-900
           dark:border-red-800 dark:bg-red-900 dark:text-red-100;
  }
  .toast--success {
    @apply border-green-300 bg-green-50 text-green-900
           dark:border-green-800 dark:bg-green-900 dark:text-green-100;
  }
  .toast-icon {
    @apply mt-0.5 size-5 flex-none;
  }
  .toast-body {
    @apply min-w-0 flex-1;
  }
  .toast-desc {
    @apply text-sm leading-5;
  }
  .toast-close {
    @apply ml-1 inline-flex size-7 flex-none items-center justify-center rounded-md
           focus:outline-none;
  }
  .toast-close--error {
    @apply text-red-700 hover:bg-red-100 hover:text-red-900
           focus-visible:ring-2 focus-visible:ring-red-400 focus-visible:ring-offset-2
           dark:text-red-200 dark:hover:bg-red-800 dark:hover:text-red-100
           dark:focus-visible:ring-offset-slate-900;
  }
  .toast-close--success {
    @apply text-green-700 hover:bg-green-100 hover:text-green-900
           focus-visible:ring-2 focus-visible:ring-green-400 focus-visible:ring-offset-2
           dark:text-green-200 dark:hover:bg-green-800 dark:hover:text-green-100
           dark:focus-visible:ring-offset-slate-900;
  }
    /* pagination
   ----------------------------------------------------- */
  .pagination {
    @apply flex justify-center gap-1;
  }
  .page-btn {
    @apply min-w-9 h-9 px-3
      rounded-md border border-gray-300 bg-white
      text-sm text-gray-700
      hover:bg-gray-50 hover:border-gray-400
      focus:outline-none focus:ring-2 focus:ring-blue-500
      dark:border-gray-600 dark:bg-gray-800
      dark:text-gray-100 dark:hover:bg-gray-700;
  }
  .page-btn[aria-current="page"] {
    @apply border-blue-600 bg-blue-600 text-white
      cursor-default
      dark:border-blue-500 dark:bg-blue-500;
  }
  .pagination-total {
    @apply my-2 text-right
      text-gray-500 dark:text-gray-400;
  }
}
